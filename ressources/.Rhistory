################## GET ACCESS TOKEN ###################
get_access_token <- function() {
headers = c(
'Content-Type' = 'application/x-www-form-urlencoded',
'Accept' = 'application/json;charset=UTF-8'
)
body <- list(
'grant_type'='client_credentials',
'client_id'=clientID,
'client_secret'=secret,
'scope'='api_offresdemploiv2 o2dsoffre')
response <- VERB(
"POST",
url = "https://entreprise.francetravail.fr/connexion/oauth2/access_token?realm=%2Fpartenaire",
body = body,
add_headers(headers),
encode = 'form'
)
content(response, as = "text")
print(response_content)
json_content = fromJSON(response_content)
return(json_content$access_token)
}
access_token <- get_access_token()
library(httr)
library(jsonlite)
access <- readLines("./access.txt")
clientID <- access[1]
secret <- access[2]
################## GET ACCESS TOKEN ###################
get_access_token <- function() {
headers = c(
'Content-Type' = 'application/x-www-form-urlencoded',
'Accept' = 'application/json;charset=UTF-8'
)
body <- list(
'grant_type'='client_credentials',
'client_id'=clientID,
'client_secret'=secret,
'scope'='api_offresdemploiv2 o2dsoffre')
response <- VERB(
"POST",
url = "https://entreprise.francetravail.fr/connexion/oauth2/access_token?realm=%2Fpartenaire",
body = body,
add_headers(headers),
encode = 'form'
)
content(response, as = "text")
print(response_content)
json_content = fromJSON(response_content)
return(json_content$access_token)
}
access_token <- get_access_token()
library(httr)
library(jsonlite)
access <- readLines("./access.txt")
clientID <- access[1]
secret <- access[2]
################## GET ACCESS TOKEN ###################
get_access_token <- function() {
headers = c(
'Content-Type' = 'application/x-www-form-urlencoded',
'Accept' = 'application/json;charset=UTF-8'
)
body <- list(
'grant_type'='client_credentials',
'client_id'=clientID,
'client_secret'=secret,
'scope'='api_offresdemploiv2 o2dsoffre')
response <- VERB(
"POST",
url = "https://entreprise.francetravail.fr/connexion/oauth2/access_token?realm=%2Fpartenaire",
body = body,
add_headers(headers),
encode = 'form'
)
content(response, as = "text")
print(response_content)
json_content = fromJSON(response_content)
return(json_content$access_token)
}
access_token <- get_access_token()
library(httr)
library(jsonlite)
access <- readLines("./access.txt")
clientID <- access[1]
secret <- access[2]
################## GET ACCESS TOKEN ###################
get_access_token <- function() {
headers = c(
'Content-Type' = 'application/x-www-form-urlencoded',
'Accept' = 'application/json;charset=UTF-8'
)
body = list(
'grant_type'='client_credentials',
'client_id'=clientID,
'client_secret'=secret,
'scope'='api_offresdemploiv2 o2dsoffre')
response <- VERB(
"POST",
url = "https://entreprise.francetravail.fr/connexion/oauth2/access_token?realm=%2Fpartenaire",
body = body,
add_headers(headers),
encode = 'form'
)
content(response, as = "text")
print(response_content)
json_content = fromJSON(response_content)
return(json_content$access_token)
}
access_token <- get_access_token()
library(httr)
library(jsonlite)
access <- readLines("./access.txt")
clientID <- access[1]
secret <- access[2]
################## GET ACCESS TOKEN ###################
get_access_token <- function() {
headers = c(
'Content-Type' = 'application/x-www-form-urlencoded',
'Accept' = 'application/json;charset=UTF-8'
)
body = list(
'grant_type'='client_credentials',
'client_id'=clientID,
'client_secret'=secret,
'scope'='api_offresdemploiv2 o2dsoffre')
response <- VERB(
"POST",
url = "https://entreprise.francetravail.fr/connexion/oauth2/access_token?realm=%2Fpartenaire",
body = body,
add_headers(headers),
encode = 'form'
)
content(response, as = "text")
print(response_content)
json_content = fromJSON(response_content)
return(json_content$access_token)
}
access_token <- get_access_token()
library(httr)
library(jsonlite)
access <- readLines("./access.txt")
clientID <- access[1]
secret <- access[2]
################## GET ACCESS TOKEN ###################
get_access_token <- function() {
headers = c(
'Content-Type' = 'application/x-www-form-urlencoded',
'Accept' = 'application/json;charset=UTF-8'
)
body = list(
'grant_type'='client_credentials',
'client_id'=clientID,
'client_secret'=secret,
'scope'='api_offresdemploiv2 o2dsoffre')
response <- VERB(
"POST",
url = "https://entreprise.francetravail.fr/connexion/oauth2/access_token?realm=%2Fpartenaire",
body = body,
add_headers(headers),
encode = 'form'
)
content(response, 'text')
print(response_content)
json_content = fromJSON(response_content)
return(json_content$access_token)
}
access_token <- get_access_token()
library(httr)
library(jsonlite)
access <- readLines("./access.txt")
clientID <- access[1]
secret <- access[2]
################## GET ACCESS TOKEN ###################
get_access_token <- function() {
headers = c(
'Content-Type' = 'application/x-www-form-urlencoded',
'Accept' = 'application/json;charset=UTF-8'
)
body = list(
'grant_type'='client_credentials',
'client_id'=clientID,
'client_secret'=secret,
'scope'='api_offresdemploiv2 o2dsoffre')
response <- VERB(
"POST",
url = "https://entreprise.francetravail.fr/connexion/oauth2/access_token?realm=%2Fpartenaire",
body = body,
add_headers(headers),
encode = 'form'
)
content(response, 'text')
print(response_content)
json_content = fromJSON(response_content)
return(json_content$access_token)
}
access_token <- get_access_token()
get_access_token <- function() {
headers = c(
'Content-Type' = 'application/x-www-form-urlencoded',
'Accept' = 'application/json;charset=UTF-8'
)
body = list(
'grant_type'='client_credentials',
'client_id'=clientID,
'client_secret'=secret,
'scope'='api_offresdemploiv2 o2dsoffre')
response <- VERB(
"POST",
url = "https://entreprise.francetravail.fr/connexion/oauth2/access_token?realm=%2Fpartenaire",
body = body,
add_headers(headers),
encode = 'form'
)
content(response, 'text')
print(response_content)
json_content = fromJSON(response_content)
return(json_content$access_token)
}
library(httr)
library(jsonlite)
access <- readLines("./access.txt")
clientID <- access[1]
secret <- access[2]
################## GET ACCESS TOKEN ###################
get_access_token <- function() {
headers = c(
'Content-Type' = 'application/x-www-form-urlencoded',
'Accept' = 'application/json;charset=UTF-8',
)
body = list(
'grant_type' = 'client_credentials',
'client_id' = 'PAR_cloudwork_1e00df847d310028f64ea6257f9c9290fbad9ea928da4bf0b346800a7a659733',
'client_secret' = 'c6d9880358e27bc2a3267ae1466f8764a03eae8b51d19b373020956b5cb46c41',
'scope' = 'api_offresdemploiv2 o2dsoffre'
)
res <- VERB("POST", url = "https://entreprise.francetravail.fr/connexion/oauth2/access_token?realm=%2Fpartenaire", body = body, add_headers(headers), encode = 'form')
cat(content(res, 'text'))
return(res$access_token)
}
access_token <- get_access_token()
library(httr)
library(jsonlite)
access <- readLines("./access.txt")
clientID <- access[1]
secret <- access[2]
################## GET ACCESS TOKEN ###################
get_access_token <- function() {
headers = c(
'Content-Type' = 'application/x-www-form-urlencoded',
'Accept' = 'application/json;charset=UTF-8'
)
body = list(
'grant_type' = 'client_credentials',
'client_id' = 'PAR_cloudwork_1e00df847d310028f64ea6257f9c9290fbad9ea928da4bf0b346800a7a659733',
'client_secret' = 'c6d9880358e27bc2a3267ae1466f8764a03eae8b51d19b373020956b5cb46c41',
'scope' = 'api_offresdemploiv2 o2dsoffre'
)
res <- VERB("POST", url = "https://entreprise.francetravail.fr/connexion/oauth2/access_token?realm=%2Fpartenaire", body = body, add_headers(headers), encode = 'form')
cat(content(res, 'text'))
return(res$access_token)
}
access_token <- get_access_token()
source("D:/Artisanat/informatique/CSharpProjects/CloudWorkWASM/CloudWork/ressources/access_token.r")
library(httr)
library(jsonlite)
access <- readLines("./access.txt")
clientID <- access[1]
secret <- access[2]
################## GET ACCESS TOKEN ###################
get_access_token <- function() {
headers = c(
'Content-Type' = 'application/x-www-form-urlencoded',
'Accept' = 'application/json;charset=UTF-8'
)
body = list(
'grant_type'='client_credentials',
'client_id'=clientID,
'client_secret'=secret,
'scope'='api_offresdemploiv2 o2dsoffre')
response <- VERB(
"POST",
url = "https://entreprise.francetravail.fr/connexion/oauth2/access_token?realm=%2Fpartenaire",
body = body,
add_headers(headers),
encode = 'form'
)
content(response, 'text')
print(response_content)
json_content = fromJSON(response_content)
return(json_content$access_token)
}
access_token <- get_access_token()
library(httr)
library(jsonlite)
access <- readLines("./access.txt")
clientID <- access[1]
secret <- access[2]
################## GET ACCESS TOKEN ###################
get_access_token <- function() {
headers = c(
'Content-Type' = 'application/x-www-form-urlencoded',
'Accept' = 'application/json;charset=UTF-8'
)
body = list(
'grant_type'='client_credentials',
'client_id'=clientID,
'client_secret'=secret,
'scope'='api_offresdemploiv2 o2dsoffre')
response <- VERB(
"POST",
url = "https://entreprise.francetravail.fr/connexion/oauth2/access_token?realm=%2Fpartenaire",
body = body,
add_headers(headers),
encode = 'form'
)
content(response, 'text')
print(response_content)
json_content = fromJSON(response_content)
return(json_content$access_token)
}
access_token <- get_access_token()
library(httr)
library(jsonlite)
access <- readLines("./access.txt")
clientID <- access[1]
secret <- access[2]
################## GET ACCESS TOKEN ###################
get_access_token <- function() {
headers = c('Content-Type' = 'application/x-www-form-urlencoded', 'Accept' = 'application/json;charset=UTF-8')
body = list(
'grant_type' = 'client_credentials',
'client_id' = clientID,
'client_secret' = secret,
'scope' = 'api_offresdemploiv2 o2dsoffre'
)
response <- VERB(
"POST",
url = "https://entreprise.francetravail.fr/connexion/oauth2/access_token?realm=%2Fpartenaire",
body = body,
add_headers(headers),
encode = 'form'
)
return(content(response, "text"))
}
access_token <- get_access_token()
library(httr)
library(jsonlite)
access <- readLines("./access.txt")
clientID <- access[1]
secret <- access[2]
################## GET ACCESS TOKEN ###################
get_access_token <- function() {
headers = c('Content-Type' = 'application/x-www-form-urlencoded', 'Accept' = 'application/json;charset=UTF-8')
body = list(
'grant_type' = 'client_credentials',
'client_id' = clientID,
'client_secret' = secret,
'scope' = 'api_offresdemploiv2 o2dsoffre'
)
response <- VERB(
"POST",
url = "https://entreprise.francetravail.fr/connexion/oauth2/access_token?realm=%2Fpartenaire",
body = body,
add_headers(headers),
encode = 'form'
)
return(content(response, "text"))
}
access_token <- get_access_token()
library(httr)
library(jsonlite)
access <- readLines("./access.txt")
clientID <- access[1]
secret <- access[2]
################## GET ACCESS TOKEN ###################
get_access_token <- function() {
headers = c('Content-Type' = 'application/x-www-form-urlencoded', 'Accept' = 'application/json;charset=UTF-8')
body = list(
'grant_type' = 'client_credentials',
'client_id' = clientID,
'client_secret' = secret,
'scope' = 'api_offresdemploiv2 o2dsoffre'
)
response <- VERB(
"POST",
url = "https://entreprise.francetravail.fr/connexion/oauth2/access_token?realm=%2Fpartenaire",
body = body,
add_headers(headers),
encode = 'form'
)
return(content(response, "text"))
}
access_token <- get_access_token()
library(httr)
library(jsonlite)
access <- readLines("./access.txt")
clientID <- access[1]
secret <- access[2]
################## GET ACCESS TOKEN ###################
get_access_token <- function() {
headers = c('Content-Type' = 'application/x-www-form-urlencoded', 'Accept' = 'application/json;charset=UTF-8')
body = list(
'grant_type' = 'client_credentials',
'client_id' = clientID,
'client_secret' = secret,
'scope' = 'api_offresdemploiv2 o2dsoffre'
)
response <- VERB(
"POST",
url = "https://entreprise.francetravail.fr/connexion/oauth2/access_token?realm=%2Fpartenaire",
body = body,
add_headers(headers),
encode = 'form'
)
return(content(response, "text"))
}
access_token <- get_access_token()
library(httr)
library(jsonlite)
access <- readLines("./access.txt")
clientID <- access[1]
secret <- access[2]
################## GET ACCESS TOKEN ###################
get_access_token <- function() {
headers = c('Content-Type' = 'application/x-www-form-urlencoded', 'Accept' = 'application/json;charset=UTF-8')
body = list(
'grant_type' = 'client_credentials',
'client_id' = clientID,
'client_secret' = secret,
'scope' = 'api_offresdemploiv2 o2dsoffre'
)
response <- VERB(
"POST",
url = "https://entreprise.francetravail.fr/connexion/oauth2/access_token?realm=%2Fpartenaire",
body = body,
add_headers(headers),
encode = 'form'
)
return(content(response, "text"))
}
access_token <- get_access_token()
token <- get_access_token()
library(httr)
library(jsonlite)
source("cloud.r")
source("access_token.r")
source("D:/Artisanat/informatique/CSharpProjects/CloudWorkWASM/CloudWork/ressources/FranceTravail_API.r")
source("D:/Artisanat/informatique/CSharpProjects/CloudWorkWASM/CloudWork/ressources/access_token.r")
source("D:/Artisanat/informatique/CSharpProjects/CloudWorkWASM/CloudWork/ressources/FranceTravail_API.r")
#drawCloud(descriptions)
}
library(httr)
library(jsonlite)
access <- readLines("./access.txt")
clientID <- access[1]
secret <- access[2]
################## GET ACCESS TOKEN ###################
get_access_token <- function() {
headers <- c(
'Content-Type' = 'application/x-www-form-urlencoded',
'Accept' = 'application/json;charset=UTF-8'
)
body <- list(
'grant_type' = 'client_credentials',
'client_id'= clientID,
'client_secret' = secret,
'scope' = 'api_offresdemploiv2 o2dsoffre'
)
response <- VERB(
"POST",
url = "https://entreprise.francetravail.fr/connexion/oauth2/access_token?realm=%2Fpartenaire",
body = body,
add_headers(headers),
encode = 'form'
)
response_content <- content(response, as = "text")
json_content <- fromJSON(response_content)
return(json_content$access_token)
}
library(httr)
library(jsonlite)
library(RColorBrewer)
source("cloud.r")
source("access_token.r")
generateCloud <- function() {
response_code = 0
token <- get_access_token()
print(token)
#  data <- get_offres_data(token)
# for (i in 1:5) {
#
#   # response_code <- get_data
#
#   if (response_code == 200 || response_code == 204) {
#     break
#   }
#
#   else {
#     Sys.sleep(2)
#
#     # response_code <- get_data
#   }
# }
# parse results
# separate descriptions of the offers from the rest
# create a list of descriptions text
#descriptions <- list("","")
#drawCloud(descriptions)
}
generateCloud()
